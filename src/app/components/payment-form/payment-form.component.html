<div style="display: flex;">
<div style="width: 65%; margin-left: 10%; margin-right: 10%;margin-top: 3%; margin-bottom: 3%; direction: rtl;">
<div class="row">
  <div class="col-75">
    <div class="container">
      <form  [formGroup]="paymentForm" (ngSubmit)="onSubmit()" action="">
      
        <div class="row">
          <div class="col-50">
            <h3>פרטי חיוב</h3>
            
            <label for="fname"><i class="fa fa-user"></i> שם מלא \ שם חברה</label> 

            <span *ngIf="paymentForm.get('fullName').errors &&
               (paymentForm.get('fullName').dirty)">
                 <span style="color: red;" *ngIf="paymentForm.get('fullName').errors.required  || !flag">
                  זהו שדה חובה
                </span>
                 <span style="color: red;" *ngIf="paymentForm.get('fullName').errors.minlength">
                   שם משתמש חייב להיות בעלת 2 תווים
                 </span>
           </span>

            <input type="text" id="fname" name="fullName" formControlName="fullName" [ngClass]="{'has-error':
            paymentForm.get('fullName').errors &&
            (paymentForm.get('fullName').dirty)
          }">

  <!-- ------------------------------------------------------------------------------------------------------------- -->

            <label for="email"><i class="fa fa-envelope"></i> כתובת מייל</label> 

            <span *ngIf="paymentForm.get('email').errors &&
            (paymentForm.get('email').dirty)">
              <span style="color: red;" *ngIf="paymentForm.get('email').errors.required">
               זהו שדה חובה
             </span>
              <span style="color: red;" *ngIf="paymentForm.get('email').errors.email">
                כתובת מייל לא חוקית
              </span>
        </span>

            <input type="text" id="email" name="email"  formControlName="email" [ngClass]="{'has-error':
            paymentForm.get('email').errors &&
            (paymentForm.get('email').dirty)}">

  <!-- ------------------------------------------------------------------------------------------------------------- -->

            <label for="adr"><i class="fa fa-address-card-o"></i>  כתובת</label>

        <span *ngIf="paymentForm.get('addrassSt').errors &&
            (paymentForm.get('addrassSt').dirty)">
              <span style="color: red;" *ngIf="paymentForm.get('addrassSt').errors.required">
               זהו שדה חובה
             </span>
              <span style="color: red;" *ngIf="paymentForm.get('addrassSt').errors.minlength">
                רחוב חייב להיות בעל 2 תווים
              </span>
        </span>

            <input type="text" id="adr"name="addrassSt" formControlName="addrassSt" [ngClass]="{'has-error':
            paymentForm.get('addrassSt').errors &&
            (paymentForm.get('addrassSt').dirty)}">

  <!---------------------------------------------------------------------------------------------------------------->

            <label for="city"><i class="fa fa-institution"></i> עיר</label>

            <span *ngIf="paymentForm.get('addrassCity').errors &&
               (paymentForm.get('addrassCity').dirty)">
                 <span style="color: red;" *ngIf="paymentForm.get('addrassCity').errors.required">
                  זהו שדה חובה
                </span>
                 <span style="color: red;" *ngIf="paymentForm.get('addrassCity').errors.minlength">
                    עיר חייב להיות בעלת 2 תווים
                 </span>
           </span>


            <input type="text" id="city" formControlName="addrassCity" name="addrassCity"[ngClass]="{'has-error':
            paymentForm.get('addrassCity').errors &&
            (paymentForm.get('addrassCity').dirty)}">

  <!----------------------------------------------------------------------------------------------------------------->


            <div class="row">
              <div class="col-50">
                <label for="zip">מיקוד</label>
  
                <input type="text" id="zip" name="מיקוד" formControlName="postNum" name="postNum"[ngClass]="{'has-error':
                paymentForm.get('postNum').errors &&
                (paymentForm.get('postNum').dirty)}">

                <span *ngIf="paymentForm.get('postNum').errors &&
                (paymentForm.get('postNum').dirty)">
                  <span style="color: red;" *ngIf="paymentForm.get('postNum').errors.required">
                   זהו שדה חובה
                 </span>
                  <span style="color: red;" *ngIf="paymentForm.get('postNum').errors.minlength">
                     מיקוד חייב להיות לפחות בעל 2 תווים
                  </span><br>
                  <span style="color: red;" *ngIf="paymentForm.get('postNum').errors.pattern">
                    מיקוד חייב להחיל מספרים בלבד
                 </span>  
            </span>
              </div>
 <!----------------------------------------------------------------------------------------------------------------->

              <div class="col-50">
                <label for="phone"> <i class="fas fa-phone"></i> טלפון</label>
                <input type="text" id="phone" name="phone" formControlName="phone" name="phone"[ngClass]="{'has-error':
                paymentForm.get('phone').errors &&
                (paymentForm.get('phone').dirty)}">

                <span *ngIf="paymentForm.get('phone').errors &&
                (paymentForm.get('phone').dirty)">
                  <span style="color: red;" *ngIf="paymentForm.get('phone').errors.required">
                   זהו שדה חובה
                 </span>
                  <span style="color: red;" *ngIf="paymentForm.get('phone').errors.minlength">
                     מספר טלפון חייב להיות לפחות בעל 9 תווים
                  </span><br>
                  <span style="color: red;" *ngIf="paymentForm.get('phone').errors.pattern">
                    מספר טלפון חייב להחיל מספרים בלבד
                 </span>  
                </span>

 <!----------------------------------------------------------------------------------------------------------------->
            </div>
            
            </div>
          </div>
          

          <div class="col-50">
            <h3>תשלום</h3>
            <div class="icon-container">
        
              <div class="credit-cards-container">
                <div class="card-pic"><img class="card-icon" id="CardMastercard" alt="Mastercard" src="https://cashcow-cdn.azureedge.net/system/credit_cards/h50/mastercard.png"  
                     style="display: inline-block; "></div>

                <div class="card-pic"><img class="card-icon" id="CardAmericanExpress" alt="American Express" src="https://cashcow-cdn.azureedge.net/system/credit_cards/h50/american.png"
                    style="display: inline-block;"></div>
                
                <div class="card-pic"><img class="card-icon" id="CardVisa" alt="Visa" src="https://cashcow-cdn.azureedge.net/system/credit_cards/h50/visa.png"  
                  style="display: inline-block;"></div>
                
                <div class="card-pic"><img class="card-icon" id="CarCardPcidPaypal" alt="PCI" src="https://cashcow-cdn.azureedge.net/system/credit_cards/h50/pci.png" 
                    style="display: inline-block;"></div>
                
                <div class="card-pic"><img class="card-icon" id="CardSSl" alt="SSL secured" src="https://cashcow-cdn.azureedge.net/system/credit_cards/h50/ssl.png" 
                 style="display: inline-block;"></div>
                
              </div>
            </div>

 <!----------------------------------------------------------------------------------------------------------------->

            <label for="cname">שם בעל הכרטיס</label>

            <span *ngIf="paymentForm.get('cardOwnerName').errors &&
            (paymentForm.get('cardOwnerName').dirty)">
              <span style="color: red;" *ngIf="paymentForm.get('cardOwnerName').errors.required">
               זהו שדה חובה
             </span>
              <span style="color: red;" *ngIf="paymentForm.get('cardOwnerName').errors.minlength">
                שם בעל הכרטיס חייב להיות בעלת 2 תווים
              </span>
        </span>

            <input type="text" id="cname" name="cardname" formControlName="cardOwnerName" [ngClass]="{'has-error':
            paymentForm.get('cardOwnerName').errors &&
            (paymentForm.get('cardOwnerName').dirty)}">

 <!----------------------------------------------------------------------------------------------------------------->

            <label for="ccnum">מספר הכרטיס</label>

            <span *ngIf="paymentForm.get('cardNumber').errors &&
            (paymentForm.get('cardNumber').dirty)">
              <span style="color: red;" *ngIf="paymentForm.get('cardNumber').errors.required">
               זהו שדה חובה
             </span>
           
              <span style="color: red;" *ngIf="paymentForm.get('cardNumber').errors.pattern">
                מספר הכרטיס חייב להחיל מספרים בלבד
             </span>  
            </span>

            <input maxlength="20" placeholder="xxxx xxxx xxxx xxxx" formControlName="cardNumber" type="tel" #ccNumber (keyup)="cardNumberSpacing()" 
            [ngClass]="{'has-error':
            paymentForm.get('cardNumber').errors &&
            (paymentForm.get('cardNumber').dirty)}">

            

 <!----------------------------------------------------------------------------------------------------------------->

            <h4 for="expmonth">תוקף כרטיס </h4>
            <span>חודש</span><br>
            <select  formControlName="cardValidityMonth" name="cardValidityMonth"[ngClass]="{'has-error':
            paymentForm.get('cardValidityMonth').errors &&
            (paymentForm.get('cardValidityMonth').dirty)}" >
               <option  value=""disabled >  בחר חודש  </option>
              <option  *ngFor="let month of monthList">{{month}}</option>
          </select>

          <span *ngIf="paymentForm.get('cardValidityMonth').errors &&
          (paymentForm.get('cardValidityMonth').dirty)">
            <span style="color: red;" *ngIf="paymentForm.get('cardValidityMonth').errors.required">
             זהו שדה חובה
           </span>
        
         
          </span>

  
 <!----------------------------------------------------------------------------------------------------------------->
      <div class="row">
        <div class="col-50">
        <label for="expyear"> שנה</label>
        <select class=""  formControlName="cardValidityYear" name="cardValidityYear"[ngClass]="{'has-error':
        paymentForm.get('cardValidityYear').errors &&
        (paymentForm.get('cardValidityYear').dirty)}" >
        <option value="" disabled >  בחר שנה  </option>
        <option [ngValue]="year" *ngFor="let year of yearList" > {{year}}</option>

        </select>

 <!----------------------------------------------------------------------------------------------------------------->

              </div>
              <div class="col-50">


                <label for="cvv">CVV</label>
                <input type="text" id="cvv" name="cvv" formControlName="cvv" name="cvv"[ngClass]="{'has-error':
                paymentForm.get('cvv').errors &&
                (paymentForm.get('cvv').dirty)
              && !paymentForm.valid
              }">

                <span *ngIf="paymentForm.get('cvv').errors &&
                (paymentForm.get('cvv').dirty)">
                  <span style="color: red;" *ngIf="paymentForm.get('cvv').errors.required">
                   זהו שדה חובה
                 </span>
                  <span style="color: red;" *ngIf="paymentForm.get('cvv').errors.minlength">
                      קוד CVV חייב להיות לפחות בעל 3 תווים
                  </span><br>
                  <span style="color: red;" *ngIf="paymentForm.get('cvv').errors.pattern">
                    קוד CVV חייב להחיל מספרים בלבד
                 </span>  
                </span>


 <!----------------------------------------------------------------------------------------------------------------->

              </div>
            </div>

            <div class="col-50">

 <!----------------------------------------------------------------------------------------------------------------->

              <label for="expyear">ת.ז בעל הכרטיס</label>
              <input type="text" id="expyear" name="expyear" formControlName="id" name="id"[ngClass]="{'has-error':
              paymentForm.get('id').errors &&
              (paymentForm.get('id').dirty)}">

              <span *ngIf="paymentForm.get('id').errors &&
              (paymentForm.get('id').dirty)">
                <span style="color: red;" *ngIf="paymentForm.get('id').errors.required ">
                 זהו שדה חובה
               </span>
                <span style="color: red;" *ngIf="paymentForm.get('id').errors.minlength">
                    תעודת זהות חייבת להיות בעלת 9 ספרות
                </span><br>
                <span style="color: red;" *ngIf="paymentForm.get('id').errors.pattern">
                  תעודת זהות חייבת להחיל מספרים בלבד
               </span>  
              </span>


 <!----------------------------------------------------------------------------------------------------------------->

            </div>
          </div>
        </div>
       
        <input (click)="onSubmit()" type="submit" value="לתשלום מאובטח"  [disabled]="!paymentForm.valid"  class="btn">

        
      </form>
    </div>
  </div>

</div>
</div>


<!-- ------------------------------------------------------------------------------------------------------ -->

<div style="width: 35%; margin-left: 10%; margin-right: 10%;margin-top: 3%; margin-bottom: 3%; direction: rtl;">
  <div class="row">
    <div class="col-75">
      <div class="container">

        <h2 > פרטי ההזמנה  </h2>
        <table>
          <tr>
            <th>מוצר</th>
            <th>סכום ביניים</th>
          </tr>
          
          <tr *ngFor="let item of listOfItemsInBag; let j = index" >
            <td 
              *ngFor="let i of item" >
              <p>{{i.des }}</p>
              <p>{{i.printType }}</p>
              <p>{{i.printSize }}</p>
              <img style="width: 60px; height: 40px;" src={{i.url}} alt="" />

              
             </td>
            <td *ngFor="let i of item">{{i.price | currency:'ILS'}}</td>
          </tr>
        
          <td>סח"ה</td>
        
          <ng-container *ngFor="let item of listOfItemsInBag" >
            <td *ngIf="item.totalPrice "> {{item.totalPrice  | currency:'ILS'}} </td> 
         </ng-container>
        </table>



    </div>
  </div>
 </div>
</div>